<!doctype html>
<html lang="en" dir="ltr" class="blog-wrapper blog-post-page plugin-blog plugin-id-default" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.6.3">
<title data-rh="true">Data Modelling - Fact Modelling | Vibhavari Bellutagi</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://buildwithvibs.in/img/vb-social-card.png"><meta data-rh="true" name="twitter:image" content="https://buildwithvibs.in/img/vb-social-card.png"><meta data-rh="true" property="og:url" content="https://buildwithvibs.in/blog/de-bootcamp-fact-modelling"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docusaurus_tag" content="default"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docsearch:docusaurus_tag" content="default"><meta data-rh="true" property="og:title" content="Data Modelling - Fact Modelling | Vibhavari Bellutagi"><meta data-rh="true" name="description" content="Im sharing my learning from the Data Engineering Bootcamp, where we are learning about Data Engeering."><meta data-rh="true" property="og:description" content="Im sharing my learning from the Data Engineering Bootcamp, where we are learning about Data Engeering."><meta data-rh="true" name="keywords" content="data engineering,data engineering bootcamp,data modelling,fact data modelling"><meta data-rh="true" property="og:type" content="article"><meta data-rh="true" property="article:published_time" content="2024-12-14T00:00:00.000Z"><meta data-rh="true" property="article:author" content="https://buildwithvibs.in/"><meta data-rh="true" property="article:tag" content="data-engineering,fact-dimensional-modeling,data-engineering-bootcamp"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://buildwithvibs.in/blog/de-bootcamp-fact-modelling"><link data-rh="true" rel="alternate" href="https://buildwithvibs.in/blog/de-bootcamp-fact-modelling" hreflang="en"><link data-rh="true" rel="alternate" href="https://buildwithvibs.in/blog/de-bootcamp-fact-modelling" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","@id":"https://buildwithvibs.in/blog/de-bootcamp-fact-modelling","mainEntityOfPage":"https://buildwithvibs.in/blog/de-bootcamp-fact-modelling","url":"https://buildwithvibs.in/blog/de-bootcamp-fact-modelling","headline":"Data Modelling - Fact Modelling","name":"Data Modelling - Fact Modelling","description":"Im sharing my learning from the Data Engineering Bootcamp, where we are learning about Data Engeering.","datePublished":"2024-12-14T00:00:00.000Z","author":{"@type":"Person","name":"Vibhavari Bellutagi","description":"Data Engineer","url":"https://buildwithvibs.in/","image":"https://avatars.githubusercontent.com/u/39341524?s=400&u=5d760c052fe0614d3af649de9e85474d1cafeba7&v=4"},"keywords":["data engineering","data engineering bootcamp","data modelling","fact data modelling"],"isPartOf":{"@type":"Blog","@id":"https://buildwithvibs.in/blog","name":"Blog"}}</script><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Vibhavari Bellutagi RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Vibhavari Bellutagi Atom Feed">

<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-1F9P2Z6DLX"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-1F9P2Z6DLX",{anonymize_ip:!0})</script>



<link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons"><link rel="stylesheet" href="/assets/css/styles.af25fa78.css">
<script src="/assets/js/runtime~main.df5301c1.js" defer="defer"></script>
<script src="/assets/js/main.2b1efeb9.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"dark")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.png" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/logo.png" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">buildwith_vibs</b></a><a class="navbar__item navbar__link" href="/content">Content</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/blog">Blog</a><a class="navbar__item navbar__link" href="/Resume/experience">Resume</a></div><div class="navbar__items navbar__items--right"><div class="navbarSearchContainer_Bca1"><div class="navbar__search searchBarContainer_NW3z" dir="ltr"><input placeholder="Search" aria-label="Search" class="navbar__search-input"><div class="loadingRing_RJI3 searchBarLoadingRing_YnHq"><div></div><div></div><div></div><div></div></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="container margin-vert--lg"><div class="row"><aside class="col col--3"><nav class="sidebar_re4s thin-scrollbar" aria-label="Blog recent posts navigation"><div class="sidebarItemTitle_pO2u margin-bottom--md">Recent posts</div><div role="group"><h3 class="yearGroupHeading_rMGB">2025</h3><ul class="sidebarItemList_Yudw clean-list"><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/automate-unit-tests-using-ci-cd">Automating Unit Tests and Deploying AWS Glue &amp; Lambda Python Jobs with CI/CD</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/spark-application-lifecycle-outside">The Life Cycle of a Spark Application ( Outside )</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/spark-execution-modes">Spark Execution Modes</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/spark-job-anatomy">Under the hood of a Spark job</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/handling-nulls-in-spark">Handling Nulls in Spark</a></li></ul></div></nav></aside><main class="col col--7"><article><header><h1 class="title_f1Hy">Data Modelling - Fact Modelling</h1><div class="container_mt6G margin-vert--md"><time datetime="2024-12-14T00:00:00.000Z">December 14, 2024</time> · <!-- -->6 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--12 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://buildwithvibs.in/" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo authorImage_XqGP" src="https://avatars.githubusercontent.com/u/39341524?s=400&amp;u=5d760c052fe0614d3af649de9e85474d1cafeba7&amp;v=4" alt="Vibhavari Bellutagi"></a><div class="avatar__intro authorDetails_lV9A"><div class="avatar__name"><a href="https://buildwithvibs.in/" target="_blank" rel="noopener noreferrer"><span class="authorName_yefp">Vibhavari Bellutagi</span></a></div><small class="authorTitle_nd0D" title="Data Engineer">Data Engineer</small><div class="authorSocials_rSDt"><a href="https://github.com/vibhabellutagi19" target="_blank" rel="noopener noreferrer" class="authorSocialLink_owbf" title="GitHub"><svg viewBox="0 0 256 250" width="1em" height="1em" class="authorSocialLink_owbf githubSvg_Uu4N" xmlns="http://www.w3.org/2000/svg" style="--dark:#000;--light:#fff" preserveAspectRatio="xMidYMid"><path d="M128.001 0C57.317 0 0 57.307 0 128.001c0 56.554 36.676 104.535 87.535 121.46 6.397 1.185 8.746-2.777 8.746-6.158 0-3.052-.12-13.135-.174-23.83-35.61 7.742-43.124-15.103-43.124-15.103-5.823-14.795-14.213-18.73-14.213-18.73-11.613-7.944.876-7.78.876-7.78 12.853.902 19.621 13.19 19.621 13.19 11.417 19.568 29.945 13.911 37.249 10.64 1.149-8.272 4.466-13.92 8.127-17.116-28.431-3.236-58.318-14.212-58.318-63.258 0-13.975 5-25.394 13.188-34.358-1.329-3.224-5.71-16.242 1.24-33.874 0 0 10.749-3.44 35.21 13.121 10.21-2.836 21.16-4.258 32.038-4.307 10.878.049 21.837 1.47 32.066 4.307 24.431-16.56 35.165-13.12 35.165-13.12 6.967 17.63 2.584 30.65 1.255 33.873 8.207 8.964 13.173 20.383 13.173 34.358 0 49.163-29.944 59.988-58.447 63.157 4.591 3.972 8.682 11.762 8.682 23.704 0 17.126-.148 30.91-.148 35.126 0 3.407 2.304 7.398 8.792 6.14C219.37 232.5 256 184.537 256 128.002 256 57.307 198.691 0 128.001 0Zm-80.06 182.34c-.282.636-1.283.827-2.194.39-.929-.417-1.45-1.284-1.15-1.922.276-.655 1.279-.838 2.205-.399.93.418 1.46 1.293 1.139 1.931Zm6.296 5.618c-.61.566-1.804.303-2.614-.591-.837-.892-.994-2.086-.375-2.66.63-.566 1.787-.301 2.626.591.838.903 1 2.088.363 2.66Zm4.32 7.188c-.785.545-2.067.034-2.86-1.104-.784-1.138-.784-2.503.017-3.05.795-.547 2.058-.055 2.861 1.075.782 1.157.782 2.522-.019 3.08Zm7.304 8.325c-.701.774-2.196.566-3.29-.49-1.119-1.032-1.43-2.496-.726-3.27.71-.776 2.213-.558 3.315.49 1.11 1.03 1.45 2.505.701 3.27Zm9.442 2.81c-.31 1.003-1.75 1.459-3.199 1.033-1.448-.439-2.395-1.613-2.103-2.626.301-1.01 1.747-1.484 3.207-1.028 1.446.436 2.396 1.602 2.095 2.622Zm10.744 1.193c.036 1.055-1.193 1.93-2.715 1.95-1.53.034-2.769-.82-2.786-1.86 0-1.065 1.202-1.932 2.733-1.958 1.522-.03 2.768.818 2.768 1.868Zm10.555-.405c.182 1.03-.875 2.088-2.387 2.37-1.485.271-2.861-.365-3.05-1.386-.184-1.056.893-2.114 2.376-2.387 1.514-.263 2.868.356 3.061 1.403Z"></path></svg></a><a href="https://www.linkedin.com/in/vibhavari-bellutagi-837871189/" target="_blank" rel="noopener noreferrer" class="authorSocialLink_owbf" title="LinkedIn"><svg width="1em" height="1em" xmlns="http://www.w3.org/2000/svg" preserveAspectRatio="xMidYMid" viewBox="0 0 256 256" class="authorSocialLink_owbf"><path d="M218.123 218.127h-37.931v-59.403c0-14.165-.253-32.4-19.728-32.4-19.756 0-22.779 15.434-22.779 31.369v60.43h-37.93V95.967h36.413v16.694h.51a39.907 39.907 0 0 1 35.928-19.733c38.445 0 45.533 25.288 45.533 58.186l-.016 67.013ZM56.955 79.27c-12.157.002-22.014-9.852-22.016-22.009-.002-12.157 9.851-22.014 22.008-22.016 12.157-.003 22.014 9.851 22.016 22.008A22.013 22.013 0 0 1 56.955 79.27m18.966 138.858H37.95V95.967h37.97v122.16ZM237.033.018H18.89C8.58-.098.125 8.161-.001 18.471v219.053c.122 10.315 8.576 18.582 18.89 18.474h218.144c10.336.128 18.823-8.139 18.966-18.474V18.454c-.147-10.33-8.635-18.588-18.966-18.453" fill="#0A66C2"></path></svg></a><a href="https://twitter.com/buildwith_vibs" target="_blank" rel="noopener noreferrer" class="authorSocialLink_owbf" title="Twitter"><svg viewBox="0 0 256 209" width="1em" height="1em" xmlns="http://www.w3.org/2000/svg" preserveAspectRatio="xMidYMid" class="authorSocialLink_owbf"><path d="M256 25.45c-9.42 4.177-19.542 7-30.166 8.27 10.845-6.5 19.172-16.793 23.093-29.057a105.183 105.183 0 0 1-33.351 12.745C205.995 7.201 192.346.822 177.239.822c-29.006 0-52.523 23.516-52.523 52.52 0 4.117.465 8.125 1.36 11.97-43.65-2.191-82.35-23.1-108.255-54.876-4.52 7.757-7.11 16.78-7.11 26.404 0 18.222 9.273 34.297 23.365 43.716a52.312 52.312 0 0 1-23.79-6.57c-.003.22-.003.44-.003.661 0 25.447 18.104 46.675 42.13 51.5a52.592 52.592 0 0 1-23.718.9c6.683 20.866 26.08 36.05 49.062 36.475-17.975 14.086-40.622 22.483-65.228 22.483-4.24 0-8.42-.249-12.529-.734 23.243 14.902 50.85 23.597 80.51 23.597 96.607 0 149.434-80.031 149.434-149.435 0-2.278-.05-4.543-.152-6.795A106.748 106.748 0 0 0 256 25.45" fill="#55acee"></path></svg></a></div></div></div></div></div></header><div id="__blog-post-container" class="markdown"><p>Im sharing my learning from the Data Engineering Bootcamp, where we are learning about Data Engeering.
Today we are learning about Fact Modelling.</p>
<p>I would like to extend my gratitude to Zach Wilson, the founder of <a href="https://bootcamp.techcreator.io/lessons" target="_blank" rel="noopener noreferrer">DataExpert.io</a>, for his invaluable guidance and the comprehensive Data Engineering Bootcamp.
Connect with Zach Wilson on <a href="https://www.linkedin.com/in/eczachly/" target="_blank" rel="noopener noreferrer">LinkedIn</a>.</p>
<p>Thank you, Zach, for this amazing intense bootcamp on Data engineering!</p>
<hr>
<p>Week-2, Day-1: Fact Data Modeling</p>
<div class="theme-admonition theme-admonition-caution admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>caution</div><div class="admonitionContent_BuS1"><p>Fact data is the biggest data you work as data engineer. Zach shares, he worked 2PB of data in a day at Netflix !!</p></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="fact-data-modelling">Fact Data Modelling<a href="#fact-data-modelling" class="hash-link" aria-label="Direct link to Fact Data Modelling" title="Direct link to Fact Data Modelling">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="what-is-a-fact">What is a fact?<a href="#what-is-a-fact" class="hash-link" aria-label="Direct link to What is a fact?" title="Direct link to What is a fact?">​</a></h3>
<p>Fact can be thought as a record of an event that happened or occured.</p>
<ul>
<li>A user logs in to an app ( an action )</li>
<li>A transaction is made</li>
<li>You run a mile with your smartwatch - ( a mile can be a aggregated, considering each step in that mile as a granular)</li>
</ul>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_BuS1"><p>Fact cannot be broken down further. It is the most granular data you have. ( this is way you think about fact )</p></div></div>
<p><span style="background-color:#3e6980;border-radius:2px;color:#fff;padding:0.2rem">Facts are not slowly changing</span>, which makes them easier to model than dimensions.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="hardest-part-of-modelling-facts">Hardest part of modelling facts<a href="#hardest-part-of-modelling-facts" class="hash-link" aria-label="Direct link to Hardest part of modelling facts" title="Direct link to Hardest part of modelling facts">​</a></h3>
<ul>
<li>Fact data is usually 10-100x bigger than dimension data.</li>
<li>Fact data can need a lot of context for effective analysis like which dimension is it related to etc.</li>
<li>Facts would have duplicate data which is way more common than dimensions.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="how-does-fact-data-work">How does fact data work?<a href="#how-does-fact-data-work" class="hash-link" aria-label="Direct link to How does fact data work?" title="Direct link to How does fact data work?">​</a></h3>
<ul>
<li>Normalized facts dont have any dimesnional attributes, just IDs to join to get that information.</li>
<li>Denormalized facts bring in some dimension attributes to make it quicket analysis at the cost of storage.</li>
</ul>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_BuS1"><p>Normalised facts works well for a small scale, you would remove the duplicate facts and data integrity is achieved.</p></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="how-does-fact-modelling-work">How does fact modelling work?<a href="#how-does-fact-modelling-work" class="hash-link" aria-label="Direct link to How does fact modelling work?" title="Direct link to How does fact modelling work?">​</a></h3>
<p>Here’s a concise table highlighting the differences between <strong>fact data</strong> and <strong>raw log data</strong>, as described in the slide:</p>
<table><thead><tr><th><strong>Aspect</strong></th><th><strong>Raw Logs</strong></th><th><strong>Fact Data</strong></th></tr></thead><tbody><tr><td><strong>Schema Design</strong></td><td>Ugly schemas designed for online systems, making data analysis difficult.</td><td>Well-structured with nice column names.</td></tr><tr><td><strong>Data Quality</strong></td><td>May contain duplicates and other quality issues.</td><td>Includes quality guarantees like uniqueness, non-null constraints, etc.</td></tr><tr><td><strong>Retention</strong></td><td>Usually has shorter retention.</td><td>Retained for longer periods.</td></tr></tbody></table>
<p>Though Fact data and Raw logs are dependent, they are not the same. Fact data is a subset of raw logs, and it is the data that is used for analysis.</p>
<p>Fact can be identified as <code>Who</code>, <code>What</code>, <code>When</code>, <code>Where</code>, <code>How</code> of the data.</p>
<ul>
<li>
<p><strong>Who</strong> - User ID ( user who did the action )</p>
</li>
<li>
<p><strong>Where</strong> - Location ID ( where the action happened ), most likely modeled out like who with &quot;IDs&quot; to join, but more likely to bring in dimensions.</p>
</li>
<li>
<p><strong>How</strong> - Similiar to where, &quot;He used an iphone to make this click&quot;</p>
</li>
<li>
<p><strong>When</strong> - Timestamp ( when the action happened ). fundamentally part of the nature of the fact.</p>
<ul>
<li>Mostly an &quot;event_timestamp&quot; field or &quot;event_date&quot; field. ( always to be not null )</li>
</ul>
</li>
<li>
<p><strong>What</strong> - The action that happened. ( what is the fact ) ( always to be not null )</p>
<ul>
<li>In notification world, it could be &quot;notification_sent&quot;, &quot;notification_delivered&quot;, &quot;notification_clicked&quot;</li>
</ul>
</li>
<li>
<p>Fact datasets should have quality guarantees like uniqueness, non-null constraints, etc.</p>
</li>
<li>
<p>Fact data &lt; raw logs</p>
</li>
<li>
<p>Fact data should parse out hard-to-understand columns.</p>
</li>
<li>
<p>Expected to have the simple data types, in some cases, there can be complex data types</p>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="how-logging-fit-into-fact-data">How logging fit into fact data?<a href="#how-logging-fit-into-fact-data" class="hash-link" aria-label="Direct link to How logging fit into fact data?" title="Direct link to How logging fit into fact data?">​</a></h3>
<ul>
<li>It brings in all the crtical context for your fact data</li>
<li>Do not log everything, log what you need</li>
<li>Logging should conform to values specified by the online teams, define the standard schema for logging<!-- -->
<ul>
<li>Thrift was used at Netflix and Airbnb</li>
</ul>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="potential-options-when-working-with-high-volume-fact-data">Potential options when working with high volume fact data<a href="#potential-options-when-working-with-high-volume-fact-data" class="hash-link" aria-label="Direct link to Potential options when working with high volume fact data" title="Direct link to Potential options when working with high volume fact data">​</a></h3>
<ul>
<li>
<p><strong>Sampling</strong>: This involves analysing a subset of the data, which can be significantly faster and require less storage, especially for gauging trends or directionality. However, sampling is unsuitable for situations like security analysis, where capturing rare events is crucial.</p>
</li>
<li>
<p><strong>Bucketing</strong>: This involves dividing the data into smaller partitions based on a key, like user ID. Bucketing can speed up joins, especially when employing techniques like bucket joins or sorted merge bucket joins (SMB joins) that minimise or eliminate shuffle.</p>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="retention-of-fact-data">Retention of Fact Data<a href="#retention-of-fact-data" class="hash-link" aria-label="Direct link to Retention of Fact Data" title="Direct link to Retention of Fact Data">​</a></h3>
<ul>
<li>High volumes make fact data much more costly to store.</li>
<li>Any fact tables &lt; 10 TBs, Retention is not a big deal.<!-- -->
<ul>
<li>Anonymisation of facts usually happens after 60-90 days, the data would be moved to a new table the PII data would be removed.</li>
</ul>
</li>
<li>Fact tables &gt; 100 TBs, very short retention is common. (~ 14 days)</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="deduplication-of-fact-data">Deduplication of Fact Data<a href="#deduplication-of-fact-data" class="hash-link" aria-label="Direct link to Deduplication of Fact Data" title="Direct link to Deduplication of Fact Data">​</a></h3>
<p>As duplicate records are much more common in fact datasets compared to dimensional data. These duplicates can arise from various sources, such as:</p>
<ul>
<li><strong>Data quality errors:</strong> Software bugs in logging systems can lead to duplicate entries every time an event occurs.</li>
<li><strong>Genuine duplicate actions:</strong> Users might perform the same action multiple times within a given timeframe, resulting in multiple legitimate entries that need to be accounted for without inflating metrics. For example, a user might click on a notification multiple times, or a step-tracking app might record multiple steps in quick succession.</li>
</ul>
<p><strong>Deduplication is crucial for accurate analysis</strong>, as failing to address duplicates can distort metrics like click-through rates or user engagement. For example, if duplicates aren&#x27;t removed from notification click data, the click-through rate might appear artificially inflated.</p>
<p>The suggestion here is to consider the <strong>timeframe</strong> for deduplication.  While it&#x27;s essential to remove duplicates within a specific period where they significantly impact analysis, duplicates occurring over a longer timeframe might be less critical. For instance, a user clicking on a notification a year after initially clicking on it might not be relevant for measuring short-term engagement.</p>
<p>Two approaches to efficiently handle deduplication for high-volume fact data:</p>
<ul>
<li><strong>Streaming:</strong>
<ul>
<li>This method processes data in real time, deduplicating records as they arrive.</li>
<li>Windowing matters in streaming, you need to have a window to deduplicate the data.</li>
<li>Entire day deduplication is not possible in streaming, because it needs to hold onto such a big window of memory.</li>
<li>Large number of duplicates happens within a short time of first event.</li>
<li><strong>Deduplication window</strong> - 15 minutes, a sweet spot</li>
</ul>
</li>
<li><strong>Microbatch processing:</strong>
<ul>
<li>This technique involves processing data in small batches, such as hourly, to deduplicate records within each batch and subsequently merge the deduplicated batches.</li>
<li>There is a specific microbatch deduplication pattern involving hourly aggregation followed by a series of full outer joins to merge deduplicated data from different hours.</li>
</ul>
</li>
</ul>
<p>The choice between streaming and microbatch processing depends on factors like latency requirements and the complexity of the deduplication logic.</p>
<p>I hope you enjoyed reading this blog on Fact Data Modelling. If you have any questions or feedback, feel free to reach out to me on </p><div class="social-container"><a href="https://github.com/vibhabellutagi19" target="_blank" rel="noopener noreferrer" class="social-link"><span class="social-icon github"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 496 512" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"></path></svg></span></a><a href="https://x.com/buildwith_vibs" target="_blank" rel="noopener noreferrer" class="social-link"><span class="social-icon twitter"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 512 512" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"></path></svg></span></a><a href="https://www.linkedin.com/in/vibhavari-bellutagi-837871189/" target="_blank" rel="noopener noreferrer" class="social-link"><span class="social-icon linkedin"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 448 512" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"></path></svg></span></a><a href="https://www.instagram.com/buildwith_vibs/" target="_blank" rel="noopener noreferrer" class="social-link"><span class="social-icon instagram"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 448 512" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"></path></svg></span></a></div><p></p></div><footer class="docusaurus-mt-lg"><div class="row margin-top--sm theme-blog-footer-edit-meta-row"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a title="DE tag description" class="tag_zVej tagRegular_sFm0" href="/blog/tags/de">data-engineering</a></li><li class="tag_QGVx"><a title="Fact Dimensional Modeling tag description" class="tag_zVej tagRegular_sFm0" href="/blog/tags/fact">fact-dimensional-modeling</a></li><li class="tag_QGVx"><a title="Tags on Data Engineering Bootcamp by Zach Wilson" class="tag_zVej tagRegular_sFm0" href="/blog/tags/de-bootcamp">data-engineering-bootcamp</a></li></ul></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Blog post page navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/blog/de-bootcamp-fact-vs-dimension"><div class="pagination-nav__sublabel">Newer post</div><div class="pagination-nav__label">Data Modelling - Fact vs Dimension</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/blog/de-bootcamp-graph-databases"><div class="pagination-nav__sublabel">Older post</div><div class="pagination-nav__label">Data Modelling - Graph Databases and Additve Dimensions</div></a></nav></main><div class="col col--2"><div class="tableOfContents_bqdL thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#fact-data-modelling" class="table-of-contents__link toc-highlight">Fact Data Modelling</a><ul><li><a href="#what-is-a-fact" class="table-of-contents__link toc-highlight">What is a fact?</a></li><li><a href="#hardest-part-of-modelling-facts" class="table-of-contents__link toc-highlight">Hardest part of modelling facts</a></li><li><a href="#how-does-fact-data-work" class="table-of-contents__link toc-highlight">How does fact data work?</a></li><li><a href="#how-does-fact-modelling-work" class="table-of-contents__link toc-highlight">How does fact modelling work?</a></li><li><a href="#how-logging-fit-into-fact-data" class="table-of-contents__link toc-highlight">How logging fit into fact data?</a></li><li><a href="#potential-options-when-working-with-high-volume-fact-data" class="table-of-contents__link toc-highlight">Potential options when working with high volume fact data</a></li><li><a href="#retention-of-fact-data" class="table-of-contents__link toc-highlight">Retention of Fact Data</a></li><li><a href="#deduplication-of-fact-data" class="table-of-contents__link toc-highlight">Deduplication of Fact Data</a></li></ul></li></ul></div></div></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">About Me</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/Resume/experience">Resume</a></li></ul></div><div class="col footer__col"><div class="footer__title">Resources</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/blog">Blog</a></li><li class="footer__item"><a class="footer__link-item" href="/content">Content</a></li></ul></div><div class="col footer__col"><div class="footer__title">Contact</div><ul class="footer__items clean-list"><li class="footer__item"><a href="mailto:vibhavari.bellutagi@gmail.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">Mail</a></li><li class="footer__item"><a href="https://github.com/vibhabellutagi19/vibhabellutagi19.github.io" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.linkedin.com/in/vibhavari-bellutagi/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Linkedin<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://x.com/buildwith_vibs" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 Vibhavari Bellutagi, Inc. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>